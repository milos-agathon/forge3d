

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>External Image Import Integration &mdash; forge3d Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=9e420a66"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Datashader Integration" href="../user/datashader_interop.html" />
    <link rel="prev" title="Matplotlib Integration" href="matplotlib.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            forge3d
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#basic-triangle-rendering">Basic Triangle Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#terrain-visualization">Terrain Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#vector-graphics">Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#device-detection">Device Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#what-s-next">What’s Next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#quick-installation">Quick Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-from-source">Installation from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#virtual-environment-setup">Virtual Environment Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#verification">Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#development-setup">Development Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#docker-installation">Docker Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples_guide.html">Examples Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#basic-examples">Basic Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#diagnostic-examples">Diagnostic Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#advanced-examples-r13">Advanced Examples (R13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#performance-examples">Performance Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#running-examples">Running Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#understanding-example-output">Understanding Example Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_guide.html#example-development-guidelines">Example Development Guidelines</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#core-classes">Core Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#renderer">Renderer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#scene">Scene</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#vector-graphics">Vector Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#polygons">Polygons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#lines">Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#points">Points</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#terrain-rendering">Terrain Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#height-data-processing">Height Data Processing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#memory-management">Memory Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#gpu-memory-tracking">GPU Memory Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#budget-management">Budget Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#advanced-features">Advanced Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#shadow-mapping">Shadow Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#pbr-materials">PBR Materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#async-readback">Async Readback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#device-information">Device Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#environment-reporting">Environment Reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#color-management">Color Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#gpu-backend-selection">GPU Backend Selection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#error-handling">Error Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#common-exceptions">Common Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#debugging-tips">Debugging Tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#performance-tips">Performance Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#type-annotations">Type Annotations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../color_management.html">Color Management &amp; Tonemap Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#pipeline-details">Pipeline Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#linear-scene-lighting">1. Linear Scene Lighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#tone-mapping-reinhard">2. Tone Mapping (Reinhard)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#gamma-correction">3. Gamma Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#output-format">4. Output Format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#format-choices-rationale">Format Choices &amp; Rationale</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#why-rgba8unormsrgb">Why Rgba8UnormSrgb?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#when-to-use-linear-vs-srgb-targets">When to Use Linear vs sRGB Targets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#implementation-notes">Implementation Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#shader-integration">Shader Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../color_management.html#cpu-reference-implementation">CPU Reference Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../color_management.html#future-extensions">Future Extensions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interop_zero_copy.html">Zero-Copy NumPy Interoperability</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#guaranteed-zero-copy-pathways">Guaranteed Zero-Copy Pathways</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#rgba-output">RGBA Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#height-input">Height Input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#data-type-and-layout-requirements">Data Type and Layout Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#supported-input-types">Supported Input Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#output-guarantees">Output Guarantees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#validation-and-debugging">Validation and Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#using-validation-helpers">Using Validation Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#pointer-validation">Pointer Validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#performance-profiling">Performance Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#common-pitfalls-and-solutions">Common Pitfalls and Solutions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#non-contiguous-arrays">Non-Contiguous Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#wrong-data-types">Wrong Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#memory-layout-assumptions">Memory Layout Assumptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#testing-zero-copy-behavior">Testing Zero-Copy Behavior</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#writing-zero-copy-tests">Writing Zero-Copy Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#implementation-notes">Implementation Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#buffer-reuse">Buffer Reuse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#memory-alignment">Memory Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#cross-platform-consistency">Cross-Platform Consistency</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#error-handling">Error Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#common-error-messages">Common Error Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#debugging-tips">Debugging Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interop_zero_copy.html#best-practices">Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#for-application-developers">For Application Developers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interop_zero_copy.html#for-library-integration">For Library Integration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../memory_budget.html">Memory Budget Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#budget-limits">Budget Limits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#default-budget-512-mib">Default Budget: 512 MiB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#what-counts-towards-the-budget">What Counts Towards the Budget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#memory-metrics-api">Memory Metrics API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#getting-memory-metrics">Getting Memory Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#metrics-dictionary-structure">Metrics Dictionary Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#example-metrics-output">Example Metrics Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#budget-enforcement">Budget Enforcement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#automatic-checking">Automatic Checking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#error-messages">Error Messages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#monitoring-memory-usage">Monitoring Memory Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#real-time-monitoring">Real-Time Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#performance-impact-monitoring">Performance Impact Monitoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#memory-budget-scenarios">Memory Budget Scenarios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#normal-usage-patterns">Normal Usage Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#high-memory-scenarios">High Memory Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#budget-friendly-practices">Budget-Friendly Practices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#debugging-memory-issues">Debugging Memory Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#investigating-budget-violations">Investigating Budget Violations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#common-memory-issues">Common Memory Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_budget.html#implementation-details">Implementation Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#global-vs-per-renderer-tracking">Global vs. Per-Renderer Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#memory-alignment">Memory Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory_budget.html#performance-impact">Performance Impact</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../memory/index.html">Memory Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../memory/staging_rings.html">O1: Staging Buffer Rings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#architecture">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#core-components">Core Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#buffer-states">Buffer States</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#rust-api">Rust API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#python-api">Python API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#performance-characteristics">Performance Characteristics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#benchmarks">Benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#typical-performance">Typical Performance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#ring-count">Ring Count</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#buffer-size">Buffer Size</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#memory-budget">Memory Budget</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#common-issues">Common Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#debug-information">Debug Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#integration">Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#with-memory-pools-o2">With Memory Pools (O2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#with-texture-compression-o3">With Texture Compression (O3)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#performance-tests">Performance Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/staging_rings.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#high-buffer-stalls">High Buffer Stalls</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#memory-usage-issues">Memory Usage Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/staging_rings.html#platform-differences">Platform Differences</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory/memory_pools.html">O2: GPU Memory Pools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#architecture">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#core-components">Core Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#size-buckets">Size Buckets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#rust-api">Rust API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#python-api">Python API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#performance-characteristics">Performance Characteristics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#benchmarks">Benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#allocation-performance">Allocation Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#fragmentation-mitigation">Fragmentation Mitigation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#size-bucket-tuning">Size Bucket Tuning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#pool-sizing">Pool Sizing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#memory-budget">Memory Budget</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#reference-counting">Reference Counting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#lifecycle-management">Lifecycle Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#thread-safety">Thread Safety</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#defragmentation">Defragmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#automatic-defragmentation">Automatic Defragmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#defragmentation-strategy">Defragmentation Strategy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#common-issues">Common Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#debug-information">Debug Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#integration">Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#with-staging-rings-o1">With Staging Rings (O1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#with-big-buffers">With Big Buffers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#performance-tests">Performance Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#high-fragmentation">High Fragmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#memory-leaks">Memory Leaks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/memory_pools.html#performance-issues">Performance Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/memory_pools.html#platform-differences">Platform Differences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory/compressed_textures.html">O3: Compressed Texture Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#architecture">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#core-components">Core Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#supported-formats">Supported Formats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#rust-api">Rust API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#python-api">Python API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#performance-characteristics">Performance Characteristics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#benchmarks">Benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#compression-performance">Compression Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#memory-usage">Memory Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#compression-quality-levels">Compression Quality Levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#use-case-optimization">Use Case Optimization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#format-selection-algorithm">Format Selection Algorithm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#memory-budget-compliance">Memory Budget Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#ktx2-container-support">KTX2 Container Support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#supported-features">Supported Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#transcoding-pipeline">Transcoding Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#current-limitations">Current Limitations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#common-issues">Common Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#debug-information">Debug Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#integration">Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#with-memory-pools-o2">With Memory Pools (O2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#with-virtual-texturing-o4">With Virtual Texturing (O4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#quality-tests">Quality Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#poor-compression-quality">Poor Compression Quality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#high-memory-usage">High Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/compressed_textures.html#loading-failures">Loading Failures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/compressed_textures.html#platform-differences">Platform Differences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory/virtual_texturing.html">Virtual Texture Streaming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#key-components">Key Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#virtualtexturesystem">VirtualTextureSystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#tile-management">Tile Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#camera-based-streaming">Camera-Based Streaming</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#memory-budget">Memory Budget</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#tile-size">Tile Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#quality-settings">Quality Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#usage-patterns">Usage Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#basic-streaming-setup">Basic Streaming Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#prefetching">Prefetching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#multiple-textures">Multiple Textures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#performance-monitoring">Performance Monitoring</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#statistics-tracking">Statistics Tracking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#memory-analysis">Memory Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#performance-estimation">Performance Estimation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#integration-with-other-systems">Integration with Other Systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#staging-rings-integration">Staging Rings Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#compressed-texture-support">Compressed Texture Support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#shader-integration">Shader Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#wgsl-shader-code">WGSL Shader Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#c-integration">C++ Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#memory-budget-guidelines">Memory Budget Guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#tile-size-selection">Tile Size Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#streaming-strategy">Streaming Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#performance-optimization">Performance Optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#common-issues">Common Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../memory/virtual_texturing.html#debug-information">Debug Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../memory/virtual_texturing.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#memory-monitoring">Memory Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#advanced-features">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html#integration-examples">Integration Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/path_tracing.html">A1: GPU Path Tracer (MVP)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/path_tracing.html#gpu-usage">GPU Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/path_tracing.html#cpu-reference">CPU Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/path_tracing.html#progressive-tiling-a15">Progressive Tiling (A15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/path_tracing.html#limitations">Limitations</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Features:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../postfx/index.html">Post-Processing Effect Chain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../postfx/index.html#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postfx/index.html#python-api">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postfx/index.html#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postfx/index.html#demo">Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pbr_materials.html">PBR Materials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#api-reference">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#texture-support">Texture Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#brdf-evaluation">BRDF Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#predefined-materials">Predefined Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#material-validation">Material Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#gpu-integration">GPU Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#lighting-configuration">Lighting Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#feature-detection">Feature Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbr_materials.html#legacy-compatibility">Legacy Compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../shadow_mapping.html">Shadow Mapping</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#shadow-configuration">Shadow Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#directional-lighting">Directional Lighting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#shadow-rendering">Shadow Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#quality-vs-performance">Quality vs Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#pcf-filtering">PCF Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#advanced-features">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#integration-examples">Integration Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#performance-monitoring">Performance Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shadow_mapping.html#legacy-support">Legacy Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user/path_tracing.html">Path Tracing (Workstream A)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/path_tracing.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/path_tracing.html#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/path_tracing.html#roadmap">Roadmap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vector_graphics.html">Vector Graphics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#vector-types">Vector Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#advanced-features">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#data-format-requirements">Data Format Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#integration-with-3d-rendering">Integration with 3D Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_graphics.html#advanced-examples">Advanced Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../terrain_rendering.html">Terrain Rendering</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#height-data-processing">Height Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#scene-configuration">Scene Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#colormap-system">Colormap System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#level-of-detail-lod">Level of Detail (LOD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#terrain-analysis">Terrain Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#advanced-features">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#integration-with-other-systems">Integration with Other Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#performance-optimization">Performance Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#real-world-applications">Real-World Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain_rendering.html#example-applications">Example Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../async_operations.html">Async Operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#async-readback-system">Async Readback System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#multi-threaded-command-recording">Multi-threaded Command Recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#async-compute-operations">Async Compute Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#non-blocking-gpu-operations">Non-blocking GPU Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#performance-monitoring">Performance Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#memory-management-for-async-operations">Memory Management for Async Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#example-applications">Example Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async_operations.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Basemaps &amp; Tiles:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tiles/xyz_wmts.html">docs/tiles/xyz_wmts.md</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tiles/xyz_wmts.html#basemap-tile-fetching-caching-and-composition-xyz-wmts-in-forge3d">Basemap tile fetching, caching, and composition (XYZ/WMTS) in forge3d.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tiles/xyz_wmts.html#documents-the-python-tiles-api-cache-layout-and-attribution-requirements">Documents the Python tiles API, cache layout, and attribution requirements.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tiles/xyz_wmts.html#relevant-files-python-forge3d-tiles-client-py-python-forge3d-tiles-overlay-py-examples-xyz-tile-compose-demo-py">RELEVANT FILES:python/forge3d/tiles/client.py,python/forge3d/tiles/overlay.py,examples/xyz_tile_compose_demo.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tiles/xyz_wmts.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tiles/xyz_wmts.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tiles/xyz_wmts.html#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tiles/xyz_wmts.html#cache-layout">Cache layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tiles/xyz_wmts.html#attribution">Attribution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cartopy.html">docs/integration/cartopy.md</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartopy.html#cartopy-integration-example-using-forge3d-tiles-as-a-background">Cartopy integration example using forge3d tiles as a background.</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartopy.html#shows-headless-agg-rendering-and-extent-alignment-with-geoaxes">Shows headless (Agg) rendering and extent alignment with GeoAxes.</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartopy.html#relevant-files-examples-cartopy-overlay-py-python-forge3d-tiles-client-py-python-forge3d-tiles-overlay-py">RELEVANT FILES:examples/cartopy_overlay.py,python/forge3d/tiles/client.py,python/forge3d/tiles/overlay.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cartopy.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartopy.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartopy.html#example">Example</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library Integrations:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="matplotlib.html">Matplotlib Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#colormap-integration">Colormap Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#supported-colormaps">Supported Colormaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#custom-colormap-objects">Custom Colormap Objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#data-normalization">Data Normalization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#linear-normalization">Linear Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#logarithmic-normalization">Logarithmic Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#power-law-normalization">Power Law Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#boundary-normalization">Boundary Normalization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#display-helpers">Display Helpers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#basic-display">Basic Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#custom-extents-and-dpi">Custom Extents and DPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#subplot-comparisons">Subplot Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#saving-comparisons">Saving Comparisons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#accuracy-and-performance">Accuracy and Performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#colormap-accuracy">Colormap Accuracy</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#normalization-accuracy">Normalization Accuracy</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#zero-copy-display">Zero-Copy Display</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#error-handling-and-validation">Error Handling and Validation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#optional-dependency-handling">Optional Dependency Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#array-validation">Array Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#supported-formats">Supported Formats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#complete-terrain-visualization">Complete Terrain Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#performance-comparison">Performance Comparison</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#best-practices">Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#memory-efficiency">Memory Efficiency</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#colormap-selection">Colormap Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#api-reference">API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#forge3d-adapters-mpl-cmap">forge3d.adapters.mpl_cmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#forge3d-helpers-mpl-display">forge3d.helpers.mpl_display</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="matplotlib.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#common-issues">Common Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="matplotlib.html#performance-issues">Performance Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">External Image Import Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#webgpu-parity">WebGPU Parity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-we-match">What We Match</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-similarities">Key Similarities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#native-vs-browser-differences">Native vs Browser Differences</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-sources">Input Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operational-differences">Operational Differences</a></li>
<li class="toctree-l3"><a class="reference internal" href="#format-support">Format Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#implementation-architecture">Implementation Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core-components">Core Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processing-pipeline">Processing Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-image-import">Basic Image Import</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-configuration">Advanced Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#constraints-and-limitations">Constraints and Limitations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#memory-budget">Memory Budget</a></li>
<li class="toctree-l3"><a class="reference internal" href="#texture-size-limits">Texture Size Limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#format-constraints">Format Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#threading-model">Threading Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#decode-performance">Decode Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upload-performance">Upload Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-usage-patterns">Memory Usage Patterns</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#common-pitfalls-and-solutions">Common Pitfalls and Solutions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-path-issues">1. File Path Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-budget-exceeded">2. Memory Budget Exceeded</a></li>
<li class="toctree-l3"><a class="reference internal" href="#format-assumptions">3. Format Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#color-space-expectations">4. Color Space Expectations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synchronous-blocking">5. Synchronous Blocking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#migration-from-browser-code">Migration from Browser Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#replace-dom-image-loading">1. Replace DOM Image Loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#handle-synchronous-model">2. Handle Synchronous Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adapt-error-handling">3. Adapt Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#future-enhancements">Future Enhancements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user/datashader_interop.html">Datashader Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#api-reference">API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#availability-check">Availability Check</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.is_datashader_available"><code class="docutils literal notranslate"><span class="pre">is_datashader_available()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#core-functions">Core Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.rgba_view_from_agg"><code class="docutils literal notranslate"><span class="pre">rgba_view_from_agg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.validate_alignment"><code class="docutils literal notranslate"><span class="pre">validate_alignment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.to_overlay_texture"><code class="docutils literal notranslate"><span class="pre">to_overlay_texture()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#convenience-functions">Convenience Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.shade_to_overlay"><code class="docutils literal notranslate"><span class="pre">shade_to_overlay()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#adapter-class">Adapter Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.DatashaderAdapter"><code class="docutils literal notranslate"><span class="pre">DatashaderAdapter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#information-functions">Information Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/datashader_interop.html#forge3d.adapters.get_datashader_info"><code class="docutils literal notranslate"><span class="pre">get_datashader_info()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#memory-management">Memory Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#memory-optimization-strategies">Memory Optimization Strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#memory-budget-guidelines">Memory Budget Guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#zoom-level-performance">Zoom Level Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#performance-monitoring">Performance Monitoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#coordinate-systems">Coordinate Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#supported-coordinate-systems">Supported Coordinate Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#alignment-validation">Alignment Validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#best-practices">Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#data-preparation">Data Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#canvas-configuration">Canvas Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#common-issues-and-solutions">Common Issues and Solutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/datashader_interop.html#debugging-tools">Debugging Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/datashader_interop.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CI &amp; Testing:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ci/notebook_integration.html">Running Notebooks in CI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#ci-integration-architecture">CI Integration Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#notebook-execution-workflow">Notebook Execution Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#execution-pipeline">Execution Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#github-actions-workflow">GitHub Actions Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#execution-requirements">Execution Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#notebook-structure">Notebook Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#standard-cell-organization">Standard Cell Organization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#introduction-setup">1. Introduction &amp; Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#device-information">2. Device Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#data-generation-loading">3. Data Generation/Loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#adapter-integration">4. Adapter Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#processing-rendering">5. Processing &amp; Rendering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#output-generation">6. Output Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#performance-metrics">7. Performance Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#validation-cleanup">8. Validation &amp; Cleanup</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#dependency-management">Dependency Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#optional-dependencies">Optional Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#fallback-strategies">Fallback Strategies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#ci-validation">CI Validation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#success-criteria">Success Criteria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#failure-analysis">Failure Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#timeout-failures">Timeout Failures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#memory-failures">Memory Failures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#dependency-failures">Dependency Failures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ci/notebook_integration.html#gpu-failures">GPU Failures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#quality-metrics">Quality Metrics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#performance-monitoring">Performance Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#timing-benchmarks">Timing Benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#memory-tracking">Memory Tracking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ci/notebook_integration.html#best-practices">Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#development-guidelines">Development Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#testing-locally">Testing Locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ci/notebook_integration.html#debugging-failed-runs">Debugging Failed Runs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">forge3d</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">External Image Import Integration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/forge3d/forge3d/blob/main/docs/integration/external_images.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="external-image-import-integration">
<h1>External Image Import Integration<a class="headerlink" href="#external-image-import-integration" title="Link to this heading"></a></h1>
<p>This document describes forge3d’s external image import functionality, which provides WebGPU <code class="docutils literal notranslate"><span class="pre">copyExternalImageToTexture</span></code>-like behavior for native applications.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The external image import system allows loading PNG and JPEG images directly into GPU textures with proper format conversion and constraint validation. This functionality is designed to be equivalent to WebGPU’s <code class="docutils literal notranslate"><span class="pre">copyExternalImageToTexture</span></code> API while adapting to the constraints of native desktop applications.</p>
</section>
<section id="webgpu-parity">
<h2>WebGPU Parity<a class="headerlink" href="#webgpu-parity" title="Link to this heading"></a></h2>
<section id="what-we-match">
<h3>What We Match<a class="headerlink" href="#what-we-match" title="Link to this heading"></a></h3>
<p>forge3d’s external image import provides equivalent functionality to:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// WebGPU copyExternalImageToTexture</span>
<span class="nx">device</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">copyExternalImageToTexture</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="nx">imageElement</span><span class="w"> </span><span class="p">},</span><span class="w">           </span><span class="c1">// HTMLImageElement, ImageBitmap, etc.</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">texture</span><span class="o">:</span><span class="w"> </span><span class="nx">destinationTexture</span><span class="w"> </span><span class="p">},</span><span class="w">    </span><span class="c1">// GPU texture destination  </span>
<span class="w">  </span><span class="p">[</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">height</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span><span class="w">                  </span><span class="c1">// Copy dimensions</span>
<span class="p">);</span>
</pre></div>
</div>
<p><strong>Equivalent forge3d usage:</strong></p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">forge3d</span><span class="p">::</span><span class="n">external_image</span><span class="p">::{</span><span class="n">import_image_to_texture</span><span class="p">,</span><span class="w"> </span><span class="n">ImageImportConfig</span><span class="p">};</span>

<span class="kd">let</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ImageImportConfig</span><span class="p">::</span><span class="n">default</span><span class="p">();</span>
<span class="kd">let</span><span class="w"> </span><span class="n">texture_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">import_image_to_texture</span><span class="p">(</span>
<span class="w">    </span><span class="n">device</span><span class="p">,</span>
<span class="w">    </span><span class="n">queue</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;path/to/image.png&quot;</span><span class="p">,</span><span class="w">  </span><span class="c1">// File path instead of DOM element</span>
<span class="w">    </span><span class="n">config</span>
<span class="p">)</span><span class="o">?</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="key-similarities">
<h3>Key Similarities<a class="headerlink" href="#key-similarities" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Format Conversion</strong>: Automatic conversion to RGBA8UnormSrgb</p></li>
<li><p><strong>Memory Management</strong>: Proper GPU memory allocation and tracking</p></li>
<li><p><strong>Error Handling</strong>: Comprehensive validation and error reporting</p></li>
<li><p><strong>Performance</strong>: Optimized upload path with padding alignment</p></li>
<li><p><strong>Constraints</strong>: Texture size limits and memory budget enforcement</p></li>
</ol>
</section>
</section>
<section id="native-vs-browser-differences">
<h2>Native vs Browser Differences<a class="headerlink" href="#native-vs-browser-differences" title="Link to this heading"></a></h2>
<section id="input-sources">
<h3>Input Sources<a class="headerlink" href="#input-sources" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>WebGPU Browser</p></th>
<th class="head"><p>forge3d Native</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HTMLImageElement</span></code></p></td>
<td><p>File path (String/Path)</p></td>
<td><p>DOM vs filesystem</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ImageBitmap</span></code></p></td>
<td><p>Not supported</p></td>
<td><p>Browser-specific API</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HTMLCanvasElement</span></code></p></td>
<td><p>Not supported</p></td>
<td><p>DOM-specific</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HTMLVideoElement</span></code></p></td>
<td><p>Not supported</p></td>
<td><p>Video not in scope</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImageData</span></code></p></td>
<td><p>Not supported</p></td>
<td><p>Raw pixel data handled differently</p></td>
</tr>
</tbody>
</table>
</section>
<section id="operational-differences">
<h3>Operational Differences<a class="headerlink" href="#operational-differences" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Aspect</p></th>
<th class="head"><p>WebGPU Browser</p></th>
<th class="head"><p>forge3d Native</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Execution Model</strong></p></td>
<td><p>Asynchronous (Promise-based)</p></td>
<td><p>Synchronous (blocking)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Threading</strong></p></td>
<td><p>Main thread + Worker threads</p></td>
<td><p>Calling thread + GPU async</p></td>
</tr>
<tr class="row-even"><td><p><strong>Memory Model</strong></p></td>
<td><p>JavaScript heap + GPU</p></td>
<td><p>Native heap + GPU tracking</p></td>
</tr>
<tr class="row-odd"><td><p><strong>File Access</strong></p></td>
<td><p>File API / User selection</p></td>
<td><p>Direct filesystem access</p></td>
</tr>
<tr class="row-even"><td><p><strong>Color Management</strong></p></td>
<td><p>Browser color management</p></td>
<td><p>sRGB assumption</p></td>
</tr>
<tr class="row-odd"><td><p><strong>EXIF Handling</strong></p></td>
<td><p>Browser may auto-rotate</p></td>
<td><p>No EXIF processing</p></td>
</tr>
</tbody>
</table>
</section>
<section id="format-support">
<h3>Format Support<a class="headerlink" href="#format-support" title="Link to this heading"></a></h3>
<p>| Format | WebGPU Browser | forge3d Native | Notes |
|—|—|—|
| <strong>PNG</strong> | ✅ Full support | ✅ RGBA, RGB, Grayscale | Core format |
| <strong>JPEG</strong> | ✅ Full support | ✅ RGB → RGBA | Core format |
| <strong>WebP</strong> | ✅ (Chrome/Edge) | ❌ Not supported | Limited scope |
| <strong>GIF</strong> | ✅ (first frame) | ❌ Not supported | Animation not needed |
| <strong>BMP</strong> | ✅ | ❌ Not supported | Uncommon for textures |
| <strong>AVIF</strong> | ✅ (newer browsers) | ❌ Not supported | Emerging format |</p>
</section>
</section>
<section id="implementation-architecture">
<h2>Implementation Architecture<a class="headerlink" href="#implementation-architecture" title="Link to this heading"></a></h2>
<section id="core-components">
<h3>Core Components<a class="headerlink" href="#core-components" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>src/external_image/
├── mod.rs                 # Main module with public API
├── decode.rs             # Image decoding (PNG/JPEG)  
├── upload.rs             # GPU texture upload utilities
└── constraints.rs        # Validation and limits

examples/
└── external_image_demo.py # Usage demonstration

docs/integration/
└── external_images.md    # This documentation

tests/
└── test_external_image.py # Unit and integration tests
</pre></div>
</div>
</section>
<section id="processing-pipeline">
<h3>Processing Pipeline<a class="headerlink" href="#processing-pipeline" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Path Validation</strong>: Verify file exists and is readable</p></li>
<li><p><strong>Format Detection</strong>: Analyze file extension and header</p></li>
<li><p><strong>Constraint Checking</strong>: Validate dimensions and memory requirements</p></li>
<li><p><strong>Image Decoding</strong>: Parse PNG/JPEG to RGBA8 pixel data</p></li>
<li><p><strong>Memory Allocation</strong>: Create GPU texture with proper format</p></li>
<li><p><strong>Data Upload</strong>: Transfer pixels to GPU with alignment padding</p></li>
<li><p><strong>Resource Tracking</strong>: Update memory usage statistics</p></li>
</ol>
</section>
</section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h2>
<section id="basic-image-import">
<h3>Basic Image Import<a class="headerlink" href="#basic-image-import" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">forge3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">f3d</span>

<span class="c1"># Initialize renderer</span>
<span class="n">renderer</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">Renderer</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>

<span class="c1"># Import external image (simulated in current version)</span>
<span class="c1"># In full implementation:</span>
<span class="c1"># texture_info = f3d.external_image.import_image_to_texture(&quot;image.png&quot;)</span>

<span class="c1"># Current simulation approach:</span>
<span class="n">height_data</span> <span class="o">=</span> <span class="n">create_height_data_from_image</span><span class="p">(</span><span class="s2">&quot;image.png&quot;</span><span class="p">)</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">upload_height_r32f</span><span class="p">(</span><span class="n">height_data</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">exaggeration</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># Render with imported texture</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render_rgba</span><span class="p">()</span>
<span class="n">f3d</span><span class="o">.</span><span class="n">numpy_to_png</span><span class="p">(</span><span class="s2">&quot;output.png&quot;</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="advanced-configuration">
<h3>Advanced Configuration<a class="headerlink" href="#advanced-configuration" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">forge3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">f3d</span>

<span class="c1"># Configure import parameters  </span>
<span class="n">config</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">ImageImportConfig</span><span class="p">(</span>
    <span class="n">max_dimension</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span>           <span class="c1"># Limit texture size</span>
    <span class="n">generate_mipmaps</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>        <span class="c1"># Create mip chain</span>
    <span class="n">premultiply_alpha</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>      <span class="c1"># Keep straight alpha</span>
<span class="p">)</span>

<span class="c1"># Import with custom configuration</span>
<span class="n">texture_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span>
    <span class="s2">&quot;large_image.png&quot;</span><span class="p">,</span> 
    <span class="n">config</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Imported: </span><span class="si">{</span><span class="n">texture_info</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">texture_info</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Format: </span><span class="si">{</span><span class="n">texture_info</span><span class="o">.</span><span class="n">source_format</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;GPU Memory: </span><span class="si">{</span><span class="n">texture_info</span><span class="o">.</span><span class="n">size_bytes</span><span class="si">}</span><span class="s2"> bytes&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">forge3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">f3d</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">texture_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;image.png&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">f3d</span><span class="o">.</span><span class="n">RenderError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;not found&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image file missing&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s2">&quot;too large&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image exceeds size limits&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s2">&quot;memory&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Insufficient GPU memory&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Import failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="constraints-and-limitations">
<h2>Constraints and Limitations<a class="headerlink" href="#constraints-and-limitations" title="Link to this heading"></a></h2>
<section id="memory-budget">
<h3>Memory Budget<a class="headerlink" href="#memory-budget" title="Link to this heading"></a></h3>
<p>forge3d enforces a <strong>512 MiB host-visible GPU memory budget</strong>. Large images may be rejected:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check available memory before import</span>
<span class="n">device_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">device_probe</span><span class="p">()</span>
<span class="n">current_usage</span> <span class="o">=</span> <span class="n">device_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;memory_usage&#39;</span><span class="p">,</span> <span class="p">{})</span>
<span class="n">available</span> <span class="o">=</span> <span class="mi">512</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">-</span> <span class="n">current_usage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;total_bytes&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">image_size</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">4</span>  <span class="c1"># RGBA8 = 4 bytes/pixel</span>
<span class="k">if</span> <span class="n">image_size</span> <span class="o">&gt;</span> <span class="n">available</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image too large for current memory budget&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="texture-size-limits">
<h3>Texture Size Limits<a class="headerlink" href="#texture-size-limits" title="Link to this heading"></a></h3>
<p>Maximum texture dimensions are device-dependent but capped at <strong>8192×8192</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query device limits</span>
<span class="n">device_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">device_probe</span><span class="p">()</span>
<span class="n">max_dimension</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">8192</span><span class="p">,</span> <span class="n">device_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;limits&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_texture_dimension_2d&#39;</span><span class="p">,</span> <span class="mi">8192</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="format-constraints">
<h3>Format Constraints<a class="headerlink" href="#format-constraints" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input Format</p></th>
<th class="head"><p>Supported</p></th>
<th class="head"><p>Output Format</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PNG RGBA</p></td>
<td><p>✅</p></td>
<td><p>RGBA8UnormSrgb</p></td>
<td><p>Direct mapping</p></td>
</tr>
<tr class="row-odd"><td><p>PNG RGB</p></td>
<td><p>✅</p></td>
<td><p>RGBA8UnormSrgb</p></td>
<td><p>Alpha=255 added</p></td>
</tr>
<tr class="row-even"><td><p>PNG Grayscale</p></td>
<td><p>✅</p></td>
<td><p>RGBA8UnormSrgb</p></td>
<td><p>Replicated to RGB</p></td>
</tr>
<tr class="row-odd"><td><p>PNG Indexed</p></td>
<td><p>❌</p></td>
<td><p>-</p></td>
<td><p>Expand to RGB first</p></td>
</tr>
<tr class="row-even"><td><p>JPEG RGB</p></td>
<td><p>✅</p></td>
<td><p>RGBA8UnormSrgb</p></td>
<td><p>Alpha=255 added</p></td>
</tr>
<tr class="row-odd"><td><p>JPEG CMYK</p></td>
<td><p>❌</p></td>
<td><p>-</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
</section>
<section id="threading-model">
<h3>Threading Model<a class="headerlink" href="#threading-model" title="Link to this heading"></a></h3>
<p>Unlike WebGPU’s asynchronous model, forge3d’s external image import is <strong>synchronous</strong>:</p>
<ul class="simple">
<li><p><strong>Blocks calling thread</strong> during decode and upload</p></li>
<li><p><strong>No concurrent imports</strong> on single renderer</p></li>
<li><p><strong>GPU operations are async</strong> but hidden from user</p></li>
</ul>
<p>For large images or batch processing, consider:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">concurrent.futures</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">forge3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">f3d</span>

<span class="k">def</span><span class="w"> </span><span class="nf">import_image</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">renderer</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">Renderer</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>  <span class="c1"># Per-thread renderer</span>
    <span class="k">return</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># Parallel processing</span>
<span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
    <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span><span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">import_image</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">image_paths</span><span class="p">]</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">futures</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="performance-considerations">
<h2>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Link to this heading"></a></h2>
<section id="decode-performance">
<h3>Decode Performance<a class="headerlink" href="#decode-performance" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Format</p></th>
<th class="head"><p>Typical Decode Time</p></th>
<th class="head"><p>Memory Usage</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PNG (1024×1024)</p></td>
<td><p>~50ms</p></td>
<td><p>~4MB temp</p></td>
<td><p>Uncompressed intermediate</p></td>
</tr>
<tr class="row-odd"><td><p>JPEG (1024×1024)</p></td>
<td><p>~20ms</p></td>
<td><p>~4MB temp</p></td>
<td><p>Faster decode</p></td>
</tr>
<tr class="row-even"><td><p>PNG (4096×4096)</p></td>
<td><p>~800ms</p></td>
<td><p>~64MB temp</p></td>
<td><p>Large memory spike</p></td>
</tr>
</tbody>
</table>
</section>
<section id="upload-performance">
<h3>Upload Performance<a class="headerlink" href="#upload-performance" title="Link to this heading"></a></h3>
<p>GPU upload time depends on:</p>
<ul class="simple">
<li><p><strong>Texture size</strong>: Linear with pixel count</p></li>
<li><p><strong>Memory bandwidth</strong>: PCIe/integrated GPU difference</p></li>
<li><p><strong>Driver overhead</strong>: Format conversion costs</p></li>
<li><p><strong>Alignment padding</strong>: Row alignment requirements</p></li>
</ul>
<p>Typical upload times:</p>
<ul class="simple">
<li><p>256×256: ~1ms</p></li>
<li><p>1024×1024: ~15ms</p></li>
<li><p>4096×4096: ~250ms</p></li>
</ul>
</section>
<section id="memory-usage-patterns">
<h3>Memory Usage Patterns<a class="headerlink" href="#memory-usage-patterns" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Peak Memory = Decode Buffer + GPU Texture + Padding
            = (width × height × channels) + (width × height × 4) + alignment

Example for 2048×2048 PNG:
- Decode buffer: 2048 × 2048 × 4 = 16MB
- GPU texture: 2048 × 2048 × 4 = 16MB  
- Padding overhead: ~1MB
- Peak usage: ~33MB
</pre></div>
</div>
</section>
</section>
<section id="common-pitfalls-and-solutions">
<h2>Common Pitfalls and Solutions<a class="headerlink" href="#common-pitfalls-and-solutions" title="Link to this heading"></a></h2>
<section id="file-path-issues">
<h3>1. File Path Issues<a class="headerlink" href="#file-path-issues" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: Image not found errors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ❌ Relative paths may not resolve correctly</span>
<span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;../images/texture.png&quot;</span><span class="p">)</span>

<span class="c1"># ✅ Use absolute paths</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="n">image_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;images/texture.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
<span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">image_path</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="memory-budget-exceeded">
<h3>2. Memory Budget Exceeded<a class="headerlink" href="#memory-budget-exceeded" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: Import fails for large images</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ❌ No memory checking</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;huge_image.png&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># Silent failure</span>

<span class="c1"># ✅ Proactive memory management</span>
<span class="n">image_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">probe_image_info</span><span class="p">(</span><span class="s2">&quot;huge_image.png&quot;</span><span class="p">)</span>
<span class="n">estimated_size</span> <span class="o">=</span> <span class="n">image_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">image_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span>

<span class="n">device_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">device_probe</span><span class="p">()</span> 
<span class="n">current_usage</span> <span class="o">=</span> <span class="n">device_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;memory_usage&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;total_bytes&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="mi">512</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>

<span class="k">if</span> <span class="n">current_usage</span> <span class="o">+</span> <span class="n">estimated_size</span> <span class="o">&gt;</span> <span class="n">budget</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Image would exceed memory budget: </span><span class="si">{</span><span class="n">estimated_size</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">MB&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;huge_image.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="format-assumptions">
<h3>3. Format Assumptions<a class="headerlink" href="#format-assumptions" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: Assuming browser-like format support</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ❌ Assuming WebP support (browser-specific)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;image.webp&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># Will fail</span>

<span class="c1"># ✅ Check supported formats first  </span>
<span class="n">supported</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">get_supported_formats</span><span class="p">()</span>
<span class="k">if</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;image.webp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="n">supported</span><span class="p">:</span>
    <span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;image.webp&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WebP not supported, convert to PNG/JPEG first&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="color-space-expectations">
<h3>4. Color Space Expectations<a class="headerlink" href="#color-space-expectations" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: Expecting browser color management</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ❌ Assuming color profile handling</span>
<span class="c1"># forge3d assumes sRGB, no color space conversion</span>

<span class="c1"># ✅ Convert to sRGB before importing</span>
<span class="c1"># Use external tools (Pillow, ImageMagick) for color management:</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageCms</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image_with_profile.jpg&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;icc_profile&#39;</span><span class="p">):</span>
    <span class="c1"># Convert to sRGB</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">ImageCms</span><span class="o">.</span><span class="n">profileToProfile</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;icc_profile&#39;</span><span class="p">],</span> 
                                   <span class="n">ImageCms</span><span class="o">.</span><span class="n">createProfile</span><span class="p">(</span><span class="s1">&#39;sRGB&#39;</span><span class="p">))</span>
<span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;srgb_image.jpg&quot;</span><span class="p">)</span>

<span class="c1"># Then import the sRGB version</span>
<span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;srgb_image.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="synchronous-blocking">
<h3>5. Synchronous Blocking<a class="headerlink" href="#synchronous-blocking" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: UI freezes during large image imports</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ❌ Blocking main thread</span>
<span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;large_image.png&quot;</span><span class="p">)</span>  <span class="c1"># Blocks</span>

<span class="c1"># ✅ Background processing for large images</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>

<span class="k">def</span><span class="w"> </span><span class="nf">import_async</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">worker</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">texture</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="n">callback</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    
    <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">worker</span><span class="p">)</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">thread</span>

<span class="c1"># Use with callback</span>
<span class="k">def</span><span class="w"> </span><span class="nf">on_import_done</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Import failed: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Import succeeded: </span><span class="si">{</span><span class="n">texture</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">texture</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">thread</span> <span class="o">=</span> <span class="n">import_async</span><span class="p">(</span><span class="s2">&quot;large_image.png&quot;</span><span class="p">,</span> <span class="n">on_import_done</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="migration-from-browser-code">
<h2>Migration from Browser Code<a class="headerlink" href="#migration-from-browser-code" title="Link to this heading"></a></h2>
<p>When porting WebGPU browser code to forge3d:</p>
<section id="replace-dom-image-loading">
<h3>1. Replace DOM Image Loading<a class="headerlink" href="#replace-dom-image-loading" title="Link to this heading"></a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Browser WebGPU</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Image</span><span class="p">();</span>
<span class="nx">img</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">device</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">copyExternalImageToTexture</span><span class="p">(</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="nx">img</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">texture</span><span class="o">:</span><span class="w"> </span><span class="nx">gpuTexture</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">[</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">img</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">img</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;image.png&quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># forge3d equivalent</span>
<span class="n">texture_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;image.png&quot;</span><span class="p">)</span>
<span class="c1"># Texture is immediately available, no async loading</span>
</pre></div>
</div>
</section>
<section id="handle-synchronous-model">
<h3>2. Handle Synchronous Model<a class="headerlink" href="#handle-synchronous-model" title="Link to this heading"></a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Browser (async)</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">loadTexture</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">blob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">bitmap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">createImageBitmap</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="nx">device</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">copyExternalImageToTexture</span><span class="p">(</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="nx">bitmap</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">texture</span><span class="o">:</span><span class="w"> </span><span class="nx">gpuTexture</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">[</span><span class="nx">bitmap</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">bitmap</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># forge3d (sync)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_texture</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="c1"># Returns immediately with texture info</span>
</pre></div>
</div>
</section>
<section id="adapt-error-handling">
<h3>3. Adapt Error Handling<a class="headerlink" href="#adapt-error-handling" title="Link to this heading"></a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Browser error handling</span>
<span class="nx">img</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Failed to load image:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># forge3d error handling</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">texture_info</span> <span class="o">=</span> <span class="n">f3d</span><span class="o">.</span><span class="n">external_image</span><span class="o">.</span><span class="n">import_image_to_texture</span><span class="p">(</span><span class="s2">&quot;image.png&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">f3d</span><span class="o">.</span><span class="n">RenderError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to import image: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="future-enhancements">
<h2>Future Enhancements<a class="headerlink" href="#future-enhancements" title="Link to this heading"></a></h2>
<p>Potential additions to improve WebGPU parity:</p>
<ol class="arabic simple">
<li><p><strong>Async API</strong>: Promise-like interface for non-blocking imports</p></li>
<li><p><strong>Additional Formats</strong>: WebP, AVIF support when dependencies available</p></li>
<li><p><strong>Color Management</strong>: ICC profile support for accurate color reproduction</p></li>
<li><p><strong>EXIF Handling</strong>: Automatic orientation correction</p></li>
<li><p><strong>Streaming</strong>: Progressive loading for very large images</p></li>
<li><p><strong>Batch Operations</strong>: Efficient multi-image import</p></li>
<li><p><strong>Memory Mapping</strong>: Zero-copy imports when possible</p></li>
</ol>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading"></a></h2>
<p>The external image import functionality includes comprehensive tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run external image tests</span>
pytest<span class="w"> </span>tests/test_external_image.py<span class="w"> </span>-v

<span class="c1"># Run with PIL dependency (more thorough)</span>
pip<span class="w"> </span>install<span class="w"> </span>pillow
pytest<span class="w"> </span>tests/test_external_image.py<span class="w"> </span>-v

<span class="c1"># Integration test via example</span>
<span class="nb">cd</span><span class="w"> </span>examples
python<span class="w"> </span>external_image_demo.py<span class="w"> </span>--output<span class="w"> </span>test_output
</pre></div>
</div>
<p>See <code class="docutils literal notranslate"><span class="pre">tests/test_external_image.py</span></code> for detailed test coverage including:</p>
<ul class="simple">
<li><p>Format detection and validation</p></li>
<li><p>Memory budget enforcement</p></li>
<li><p>Error handling and edge cases</p></li>
<li><p>Performance benchmarking</p></li>
<li><p>WebGPU parity validation</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="matplotlib.html" class="btn btn-neutral float-left" title="Matplotlib Integration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../user/datashader_interop.html" class="btn btn-neutral float-right" title="Datashader Integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, forge3d contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>